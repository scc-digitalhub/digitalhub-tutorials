kind: python
metadata:
  project: project-mlflow-model-ci
  name: train
  embedded: false
spec:
  python_version: PYTHON3_10
  requirements:
  - scikit-learn
  - mlflow
  source:
    source: src/train-model.py
    base64: CmZyb20gZGlnaXRhbGh1Yl9ydW50aW1lX3B5dGhvbiBpbXBvcnQgaGFuZGxlcgpmcm9tIGRpZ2l0YWxodWIgaW1wb3J0IGZyb21fbWxmbG93X3J1bgppbXBvcnQgbWxmbG93Cgpmcm9tIHNrbGVhcm4gaW1wb3J0IGRhdGFzZXRzLCBzdm0KZnJvbSBza2xlYXJuLm1vZGVsX3NlbGVjdGlvbiBpbXBvcnQgR3JpZFNlYXJjaENWCgpAaGFuZGxlcihvdXRwdXRzPVsibW9kZWwiXSkKZGVmIHRyYWluKHByb2plY3QpOgogICAgbWxmbG93LnNrbGVhcm4uYXV0b2xvZyhsb2dfZGF0YXNldHM9VHJ1ZSkKCiAgICBpcmlzID0gZGF0YXNldHMubG9hZF9pcmlzKCkKICAgIHBhcmFtZXRlcnMgPSB7Imtlcm5lbCI6ICgibGluZWFyIiwgInJiZiIpLCAiQyI6IFsxLCAxMF19CiAgICBzdmMgPSBzdm0uU1ZDKCkKICAgIGNsZiA9IEdyaWRTZWFyY2hDVihzdmMsIHBhcmFtZXRlcnMpCgogICAgY2xmLmZpdChpcmlzLmRhdGEsIGlyaXMudGFyZ2V0KQogICAgcnVuX2lkID0gbWxmbG93Lmxhc3RfYWN0aXZlX3J1bigpLmluZm8ucnVuX2lkCgogICAgIyB1dGlsaXR5IHRvIG1hcCBtbGZsb3cgcnVuIGFydGlmYWN0cyB0byBtb2RlbCBtZXRhZGF0YQogICAgbW9kZWxfcGFyYW1zID0gZnJvbV9tbGZsb3dfcnVuKHJ1bl9pZCkKCiAgICByZXR1cm4gKHByb2plY3QubG9nX21vZGVsKAogICAgICAgIG5hbWU9Im1vZGVsLW1sZmxvdyIsCiAgICAgICAga2luZD0ibWxmbG93IiwKICAgICAgICAqKm1vZGVsX3BhcmFtcwopKQo=
    handler: train
    lang: python
status:
  state: CREATED
project: project-mlflow-model-ci
name: train
id: 7736a88a-156c-47cc-822b-c8a86987970b
key: store://project-mlflow-model-ci/function/python/train:7736a88a-156c-47cc-822b-c8a86987970b
